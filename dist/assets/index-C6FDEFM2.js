const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/utility-components-CTiIPd5A.js","assets/game-components-6YX8WGwj.js","assets/ui-vendor-bxAK1u7u.js","assets/react-vendor-DUpYbkpg.js","assets/EnhancedGameModes-HRnru6sN.js","assets/PokyegMarket-C8WOZ4bT.js","assets/Tutorial-Bmn8C9uv.js","assets/CheatPanel-Cn1E2tqo.js","assets/DailyRewards-D5d3-Q1_.js","assets/OfflineProgress-DYcLCQV1.js","assets/BulkActions-DKC0N9f6.js","assets/menu-components-BVCwzjsy.js","assets/AdventureSkillSelection-DYLtiS3D.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertyNames,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,l=(e,t)=>{for(var s in t||(t={}))n.call(t,s)&&o(e,s,t[s]);if(r)for(var s of r(t))i.call(t,s)&&o(e,s,t[s]);return e},c=(e,a)=>t(e,s(a)),d=(e,t,s)=>new Promise((a,r)=>{var n=e=>{try{o(s.next(e))}catch(t){r(t)}},i=e=>{try{o(s.throw(e))}catch(t){r(t)}},o=e=>e.done?a(e.value):Promise.resolve(e.value).then(n,i);o((s=s.apply(e,t)).next())});import{b as m,c as h,d as p,e as u,f as g,j as x,h as y,T as b,E as v,C as f,I as w,S as k}from"./game-components-6YX8WGwj.js";import{r as j,T as _,H as S,a as N,b as M,w as C,c as A,G as P,f as R,B as E,X as G,P as L,W as z,Y as D,_ as O,e as B,$ as H,k as T,a0 as I,a1 as U,R as W}from"./ui-vendor-bxAK1u7u.js";import{a as F}from"./react-vendor-DUpYbkpg.js";import{_ as V}from"./supabase-vendor-Bj79fh9f.js";var q,Z,$=(q={"assets/index-C6FDEFM2.js"(e){!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t,s={},a=function(){if(t)return s;t=1;var e=F();return s.createRoot=e.createRoot,s.hydrateRoot=e.hydrateRoot,s}();const r=[{id:"first_victory",name:"First Victory",description:"Win your first battle",icon:"🏆",maxProgress:1,reward:{coins:50,gems:5}},{id:"zone_master_10",name:"Zone Explorer",description:"Reach Zone 10",icon:"🗺️",maxProgress:10,reward:{coins:200,gems:10}},{id:"zone_master_25",name:"Zone Conqueror",description:"Reach Zone 25",icon:"⚔️",maxProgress:25,reward:{coins:500,gems:25}},{id:"zone_master_50",name:"Zone Legend",description:"Reach Zone 50 and unlock Premium",icon:"👑",maxProgress:50,reward:{coins:1e3,gems:50,special:"Premium Access"}},{id:"zone_master_100",name:"Zone Master",description:"Reach Zone 100",icon:"🏔️",maxProgress:100,reward:{coins:2e3,gems:100}},{id:"zone_master_250",name:"Zone Overlord",description:"Reach Zone 250",icon:"🌋",maxProgress:250,reward:{coins:5e3,gems:250}},{id:"zone_master_500",name:"Zone God",description:"Reach Zone 500",icon:"🌌",maxProgress:500,reward:{coins:1e4,gems:500}},{id:"collector_25",name:"Item Collector",description:"Collect 25 different items",icon:"📦",maxProgress:25,reward:{coins:300,gems:15}},{id:"collector_50",name:"Master Collector",description:"Collect 50 different items",icon:"🎒",maxProgress:50,reward:{coins:750,gems:35}},{id:"collector_100",name:"Legendary Collector",description:"Collect 100 different items",icon:"🏛️",maxProgress:100,reward:{coins:1500,gems:75}},{id:"scholar_tier_5",name:"Scholar",description:"Reach Research Level 5",icon:"🧠",maxProgress:5,reward:{coins:400,gems:20}},{id:"scholar_tier_10",name:"Master Scholar",description:"Reach Research Level 10",icon:"📚",maxProgress:10,reward:{coins:800,gems:40}},{id:"scholar_tier_25",name:"Grand Scholar",description:"Reach Research Level 25",icon:"🎓",maxProgress:25,reward:{coins:2e3,gems:100}},{id:"scholar_tier_50",name:"Sage",description:"Reach Research Level 50",icon:"🔮",maxProgress:50,reward:{coins:5e3,gems:250}},{id:"streak_master_10",name:"Knowledge Streak",description:"Get 10 correct answers in a row",icon:"🔥",maxProgress:10,reward:{coins:250,gems:12}},{id:"streak_master_25",name:"Genius Streak",description:"Get 25 correct answers in a row",icon:"⚡",maxProgress:25,reward:{coins:600,gems:30}},{id:"streak_master_50",name:"Mastermind Streak",description:"Get 50 correct answers in a row",icon:"🌟",maxProgress:50,reward:{coins:1500,gems:75}},{id:"streak_master_100",name:"Legendary Streak",description:"Get 100 correct answers in a row",icon:"💫",maxProgress:100,reward:{coins:3e3,gems:150}},{id:"wealthy_1000",name:"Coin Collector",description:"Earn 1000 total coins",icon:"💰",maxProgress:1e3,reward:{gems:20}},{id:"wealthy_10000",name:"Rich Adventurer",description:"Earn 10,000 total coins",icon:"💎",maxProgress:1e4,reward:{gems:50}},{id:"wealthy_100000",name:"Wealthy Merchant",description:"Earn 100,000 total coins",icon:"🏦",maxProgress:1e5,reward:{gems:200}},{id:"wealthy_1000000",name:"Millionaire",description:"Earn 1,000,000 total coins",icon:"💸",maxProgress:1e6,reward:{gems:1e3}},{id:"gem_collector_100",name:"Gem Collector",description:"Earn 100 total gems",icon:"💎",maxProgress:100,reward:{coins:500}},{id:"gem_collector_1000",name:"Gem Master",description:"Earn 1000 total gems",icon:"💍",maxProgress:1e3,reward:{coins:2e3}},{id:"gem_collector_10000",name:"Gem Lord",description:"Earn 10,000 total gems",icon:"👑",maxProgress:1e4,reward:{coins:1e4}},{id:"chest_opener_10",name:"Treasure Hunter",description:"Open 10 chests",icon:"🗝️",maxProgress:10,reward:{coins:200,gems:10}},{id:"chest_opener_50",name:"Chest Master",description:"Open 50 chests",icon:"📦",maxProgress:50,reward:{coins:1e3,gems:50}},{id:"chest_opener_100",name:"Vault Breaker",description:"Open 100 chests",icon:"🏛️",maxProgress:100,reward:{coins:2500,gems:125}},{id:"accuracy_master_90",name:"Perfect Scholar",description:"Maintain 90% accuracy over 50 questions",icon:"🎯",maxProgress:50,reward:{coins:500,gems:25}},{id:"accuracy_master_95",name:"Precision Master",description:"Maintain 95% accuracy over 100 questions",icon:"🏹",maxProgress:100,reward:{coins:1500,gems:75}},{id:"legendary_finder",name:"Legendary Hunter",description:"Find your first Legendary item",icon:"✨",maxProgress:1,reward:{coins:300,gems:15}},{id:"mythical_finder",name:"Mythical Seeker",description:"Find your first Mythical item",icon:"🌟",maxProgress:1,reward:{coins:500,gems:25}},{id:"legendary_collector_10",name:"Legendary Collector",description:"Find 10 Legendary items",icon:"⭐",maxProgress:10,reward:{coins:2e3,gems:100}},{id:"mythical_collector_5",name:"Mythical Collector",description:"Find 5 Mythical items",icon:"🌠",maxProgress:5,reward:{coins:3e3,gems:150}},{id:"warrior_100",name:"Warrior",description:"Win 100 battles",icon:"⚔️",maxProgress:100,reward:{coins:1e3,gems:50}},{id:"warrior_500",name:"Battle Master",description:"Win 500 battles",icon:"🛡️",maxProgress:500,reward:{coins:3e3,gems:150}},{id:"warrior_1000",name:"War Hero",description:"Win 1000 battles",icon:"🏆",maxProgress:1e3,reward:{coins:5e3,gems:250}},{id:"miner_100",name:"Gem Miner",description:"Mine 100 gems",icon:"⛏️",maxProgress:100,reward:{coins:500,gems:25}},{id:"miner_1000",name:"Master Miner",description:"Mine 1000 gems",icon:"💎",maxProgress:1e3,reward:{coins:2e3,gems:100}},{id:"shiny_hunter_10",name:"Shiny Hunter",description:"Find 10 shiny gems",icon:"✨",maxProgress:10,reward:{coins:1e3,gems:50}},{id:"shiny_hunter_100",name:"Shiny Master",description:"Find 100 shiny gems",icon:"🌟",maxProgress:100,reward:{coins:5e3,gems:250}},{id:"enchanted_finder_10",name:"Enchanted Finder",description:"Find 10 enchanted items",icon:"🔮",maxProgress:10,reward:{coins:1500,gems:75}},{id:"relic_seeker_5",name:"Relic Seeker",description:"Own 5 relic items",icon:"🏺",maxProgress:5,reward:{coins:2e3,gems:100}},{id:"knowledge_master_1000",name:"Knowledge Master",description:"Answer 1000 questions correctly",icon:"🧠",maxProgress:1e3,reward:{coins:3e3,gems:150}},{id:"knowledge_master_10000",name:"Knowledge God",description:"Answer 10,000 questions correctly",icon:"🎓",maxProgress:1e4,reward:{coins:1e4,gems:500}},{id:"daily_player_7",name:"Weekly Player",description:"Play for 7 consecutive days",icon:"📅",maxProgress:7,reward:{coins:1e3,gems:50}},{id:"daily_player_30",name:"Monthly Player",description:"Play for 30 consecutive days",icon:"🗓️",maxProgress:30,reward:{coins:5e3,gems:250}},{id:"gardener_first",name:"First Gardener",description:"Plant your first seed",icon:"🌱",maxProgress:1,reward:{coins:500,gems:25}},{id:"gardener_master",name:"Master Gardener",description:"Grow your plant to 50cm",icon:"🌳",maxProgress:50,reward:{coins:2e3,gems:100}},{id:"gardener_legend",name:"Legendary Gardener",description:"Grow your plant to maximum size",icon:"🌲",maxProgress:100,reward:{coins:5e3,gems:250}}],n=[{id:"zone_explorer",name:"Zone Explorer",description:"Reach Zone 25",icon:"🗺️",color:"text-green-400"},{id:"zone_master",name:"Zone Master",description:"Reach Zone 100",icon:"🏔️",color:"text-blue-400"},{id:"zone_legend",name:"Zone Legend",description:"Reach Zone 250",icon:"🌋",color:"text-red-400"},{id:"zone_god",name:"Zone God",description:"Reach Zone 500",icon:"🌌",color:"text-purple-400"},{id:"coin_collector",name:"Coin Collector",description:"Earn 10,000 total coins",icon:"💰",color:"text-yellow-400"},{id:"gem_collector",name:"Gem Collector",description:"Earn 1,000 total gems",icon:"💎",color:"text-purple-400"},{id:"millionaire",name:"Millionaire",description:"Earn 1,000,000 total coins",icon:"💸",color:"text-green-400"},{id:"knowledge_master",name:"Knowledge Master",description:"Answer 1,000 questions correctly",icon:"🧠",color:"text-blue-400"},{id:"knowledge_god",name:"Knowledge God",description:"Answer 10,000 questions correctly",icon:"🎓",color:"text-indigo-400"},{id:"streak_master",name:"Streak Master",description:"Get 50 correct answers in a row",icon:"🔥",color:"text-orange-400"},{id:"streak_legend",name:"Streak Legend",description:"Get 100 correct answers in a row",icon:"💫",color:"text-yellow-400"},{id:"warrior",name:"Warrior",description:"Win 500 battles",icon:"⚔️",color:"text-red-400"},{id:"war_hero",name:"War Hero",description:"Win 1,000 battles",icon:"🏆",color:"text-gold-400"},{id:"collector",name:"Collector",description:"Collect 50 different items",icon:"📦",color:"text-cyan-400"},{id:"legendary_collector",name:"Legendary Collector",description:"Find 10 Legendary items",icon:"⭐",color:"text-yellow-400"},{id:"mythical_seeker",name:"Mythical Seeker",description:"Find 5 Mythical items",icon:"🌠",color:"text-pink-400"},{id:"miner",name:"Miner",description:"Mine 1,000 gems",icon:"⛏️",color:"text-gray-400"},{id:"shiny_hunter",name:"Shiny Hunter",description:"Find 100 shiny gems",icon:"✨",color:"text-yellow-400"},{id:"enchanted_finder",name:"Enchanted Finder",description:"Find 10 enchanted items",icon:"🔮",color:"text-cyan-400"},{id:"relic_seeker",name:"Relic Seeker",description:"Own 5 relic items",icon:"🏺",color:"text-orange-400"},{id:"scholar",name:"Scholar",description:"Reach Research Level 25",icon:"📚",color:"text-blue-400"},{id:"sage",name:"Sage",description:"Reach Research Level 50",icon:"🔮",color:"text-purple-400"},{id:"gardener",name:"Gardener",description:"Plant your first seed",icon:"🌱",color:"text-green-400"},{id:"master_gardener",name:"Master Gardener",description:"Grow your plant to 50cm",icon:"🌳",color:"text-green-500"},{id:"legendary_gardener",name:"Legendary Gardener",description:"Grow your plant to maximum size",icon:"🌲",color:"text-emerald-400"},{id:"premium_member",name:"Premium Member",description:"Unlock Premium status",icon:"👑",color:"text-yellow-400"},{id:"precision_master",name:"Precision Master",description:"Maintain 95% accuracy over 100 questions",icon:"🎯",color:"text-red-400"},{id:"dedicated_player",name:"Dedicated Player",description:"Play for 30 consecutive days",icon:"🗓️",color:"text-blue-400"}];class i{static getItem(e){return d(this,null,function*(){try{return localStorage.getItem(e)}catch(t){return null}})}static setItem(e,t){return d(this,null,function*(){try{localStorage.setItem(e,t)}catch(s){}})}static removeItem(e){return d(this,null,function*(){try{localStorage.removeItem(e)}catch(t){}})}static clear(){return d(this,null,function*(){try{localStorage.clear()}catch(e){}})}}const o="hugoland_game_state",q=()=>({coins:500,gems:50,shinyGems:0,zone:1,playerStats:{hp:100,maxHp:100,atk:20,def:10,baseAtk:20,baseDef:10,baseHp:100},inventory:{weapons:[],armor:[],relics:[],currentWeapon:null,currentArmor:null,equippedRelics:[]},currentEnemy:null,inCombat:!1,combatLog:[],research:{level:1,totalSpent:0,availableUpgrades:["atk","def","hp"]},isPremium:!1,achievements:r.map(e=>c(l({},e),{unlocked:!1,progress:0})),collectionBook:{weapons:{},armor:{},totalWeaponsFound:0,totalArmorFound:0,rarityStats:{common:0,rare:0,epic:0,legendary:0,mythical:0}},knowledgeStreak:{current:0,best:0,multiplier:1},gameMode:{current:"normal",speedModeActive:!1,survivalLives:3,maxSurvivalLives:3},statistics:{totalQuestionsAnswered:0,correctAnswers:0,totalPlayTime:0,zonesReached:1,itemsCollected:0,coinsEarned:0,gemsEarned:0,shinyGemsEarned:0,chestsOpened:0,accuracyByCategory:{},sessionStartTime:new Date,totalDeaths:0,totalVictories:0,longestStreak:0,fastestVictory:0,totalDamageDealt:0,totalDamageTaken:0,itemsUpgraded:0,itemsSold:0,totalResearchSpent:0,averageAccuracy:0,revivals:0},cheats:{infiniteCoins:!1,infiniteGems:!1,obtainAnyItem:!1},mining:{totalGemsMined:0,totalShinyGemsMined:0},yojefMarket:{items:[],lastRefresh:new Date,nextRefresh:new Date(Date.now()+3e5)},playerTags:n.map(e=>c(l({},e),{unlocked:!1})),dailyRewards:{lastClaimDate:null,currentStreak:0,maxStreak:0,availableReward:null,rewardHistory:[]},progression:{level:1,experience:0,experienceToNext:100,skillPoints:0,unlockedSkills:[],prestigeLevel:0,prestigePoints:0,masteryLevels:{}},offlineProgress:{lastSaveTime:new Date,offlineCoins:0,offlineGems:0,offlineTime:0,maxOfflineHours:8},gardenOfGrowth:{isPlanted:!1,plantedAt:null,lastWatered:null,waterHoursRemaining:0,growthCm:0,totalGrowthBonus:0,seedCost:1e3,waterCost:500,maxGrowthCm:100},settings:{colorblindMode:!1,darkMode:!0,language:"en",notifications:!0,beautyMode:!1},hasUsedRevival:!1,skills:{activeMenuSkill:null,lastRollTime:null,playTimeThisSession:0,sessionStartTime:new Date},adventureSkills:{selectedSkill:null,availableSkills:[],showSelectionModal:!1,skillEffects:{skipCardUsed:!1,metalShieldUsed:!1,dodgeUsed:!1,truthLiesActive:!1,lightningChainActive:!1,rampActive:!1,berserkerActive:!1,vampiricActive:!1,phoenixUsed:!1,timeSlowActive:!1,criticalStrikeActive:!1,shieldWallActive:!1,poisonBladeActive:!1,arcaneShieldActive:!1,battleFrenzyActive:!1,elementalMasteryActive:!1,shadowStepUsed:!1,healingAuraActive:!1,doubleStrikeActive:!1,manaShieldActive:!1,berserkRageActive:!1,divineProtectionUsed:!1,stormCallActive:!1,bloodPactActive:!1,frostArmorActive:!1,fireballActive:!1}},auctionHouse:{playerListings:[],aiListings:[],lastRefresh:new Date,nextRefresh:new Date(Date.now()+6e5)}}),Z=[{name:"Risker",description:"Gain +50% rewards but take +25% damage",type:"risker"},{name:"Lightning Chain",description:"Correct answers have 30% chance to deal double damage",type:"lightning_chain"},{name:"Skip Card",description:"Skip one question and automatically get it correct",type:"skip_card"},{name:"Metal Shield",description:"Block the next enemy attack completely",type:"metal_shield"},{name:"Truth & Lies",description:"Remove one wrong answer from multiple choice questions",type:"truth_lies"},{name:"Ramp",description:"Each correct answer increases damage by 10% (stacks)",type:"ramp"},{name:"Dodge",description:"First wrong answer deals no damage to you",type:"dodge"},{name:"Berserker",description:"+100% attack but -50% defense for this adventure",type:"berserker"},{name:"Vampiric",description:"Heal 25% of damage dealt to enemies",type:"vampiric"},{name:"Phoenix",description:"Revive once with 50% HP when defeated",type:"phoenix"},{name:"Time Slow",description:"Get +3 seconds for each question",type:"time_slow"},{name:"Critical Strike",description:"25% chance to deal triple damage",type:"critical_strike"},{name:"Shield Wall",description:"Take 50% less damage from all sources",type:"shield_wall"},{name:"Poison Blade",description:"Enemies take 10 damage per turn after being hit",type:"poison_blade"},{name:"Arcane Shield",description:"Absorb first 100 damage taken",type:"arcane_shield"},{name:"Battle Frenzy",description:"Each enemy defeated increases damage by 20%",type:"battle_frenzy"},{name:"Elemental Mastery",description:"Deal bonus damage based on question category",type:"elemental_mastery"},{name:"Shadow Step",description:"Avoid the next 3 enemy attacks",type:"shadow_step"},{name:"Healing Aura",description:"Regenerate 15 HP after each correct answer",type:"healing_aura"},{name:"Double Strike",description:"Each attack hits twice",type:"double_strike"},{name:"Mana Shield",description:"Convert 50% of damage taken to gem cost",type:"mana_shield"},{name:"Berserk Rage",description:"Deal more damage as HP gets lower",type:"berserk_rage"},{name:"Divine Protection",description:"Immune to death once per adventure",type:"divine_protection"},{name:"Storm Call",description:"Wrong answers deal damage to enemies too",type:"storm_call"},{name:"Blood Pact",description:"Sacrifice HP to deal massive damage",type:"blood_pact"},{name:"Frost Armor",description:"Attackers take damage when hitting you",type:"frost_armor"},{name:"Fireball",description:"Deal area damage to multiple enemies",type:"fireball"}],$=()=>{const[e,t]=j.useState(q()),[s,a]=j.useState(!0);j.useEffect(()=>{d(null,null,function*(){try{const e=yield i.getItem(o);if(e){const s=JSON.parse(e);s.auctionHouse||(s.auctionHouse=q().auctionHouse),s.adventureSkills||(s.adventureSkills=q().adventureSkills),s.yojefMarket&&(s.yojefMarket.lastRefresh=new Date(s.yojefMarket.lastRefresh),s.yojefMarket.nextRefresh=new Date(s.yojefMarket.nextRefresh)),s.auctionHouse&&(s.auctionHouse.lastRefresh=new Date(s.auctionHouse.lastRefresh),s.auctionHouse.nextRefresh=new Date(s.auctionHouse.nextRefresh),s.auctionHouse.playerListings=s.auctionHouse.playerListings.map(e=>c(l({},e),{endTime:new Date(e.endTime),bids:e.bids.map(e=>c(l({},e),{timestamp:new Date(e.timestamp)}))})),s.auctionHouse.aiListings=s.auctionHouse.aiListings.map(e=>c(l({},e),{endTime:new Date(e.endTime),bids:e.bids.map(e=>c(l({},e),{timestamp:new Date(e.timestamp)}))}))),t(s)}}catch(e){}finally{a(!1)}})},[]);const x=j.useCallback(e=>d(null,null,function*(){try{yield i.setItem(o,JSON.stringify(e))}catch(t){}}),[]);j.useEffect(()=>{s||x(e)},[e,s,x]);const y=j.useCallback(()=>[...Z].sort(()=>Math.random()-.5).slice(0,3).map((e,t)=>c(l({},e),{id:`skill_${Date.now()}_${t}`})),[]),b=j.useCallback(()=>{t(e=>{const t=m(e.zone),s=y();return c(l({},e),{currentEnemy:t,inCombat:!0,combatLog:[`You encounter a ${t.name} in Zone ${e.zone}!`],hasUsedRevival:!1,adventureSkills:c(l({},e.adventureSkills),{availableSkills:s,showSelectionModal:!0,selectedSkill:null,skillEffects:{skipCardUsed:!1,metalShieldUsed:!1,dodgeUsed:!1,truthLiesActive:!1,lightningChainActive:!1,rampActive:!1,berserkerActive:!1,vampiricActive:!1,phoenixUsed:!1,timeSlowActive:!1,criticalStrikeActive:!1,shieldWallActive:!1,poisonBladeActive:!1,arcaneShieldActive:!1,battleFrenzyActive:!1,elementalMasteryActive:!1,shadowStepUsed:!1,healingAuraActive:!1,doubleStrikeActive:!1,manaShieldActive:!1,berserkRageActive:!1,divineProtectionUsed:!1,stormCallActive:!1,bloodPactActive:!1,frostArmorActive:!1,fireballActive:!1}})})})},[y]),v=j.useCallback(e=>{t(t=>c(l({},t),{adventureSkills:c(l({},t.adventureSkills),{selectedSkill:e,showSelectionModal:!1,skillEffects:c(l({},t.adventureSkills.skillEffects),{truthLiesActive:"truth_lies"===e.type,lightningChainActive:"lightning_chain"===e.type,rampActive:"ramp"===e.type,berserkerActive:"berserker"===e.type,vampiricActive:"vampiric"===e.type,timeSlowActive:"time_slow"===e.type,criticalStrikeActive:"critical_strike"===e.type,shieldWallActive:"shield_wall"===e.type,poisonBladeActive:"poison_blade"===e.type,arcaneShieldActive:"arcane_shield"===e.type,battleFrenzyActive:"battle_frenzy"===e.type,elementalMasteryActive:"elemental_mastery"===e.type,healingAuraActive:"healing_aura"===e.type,doubleStrikeActive:"double_strike"===e.type,manaShieldActive:"mana_shield"===e.type,berserkRageActive:"berserk_rage"===e.type,stormCallActive:"storm_call"===e.type,bloodPactActive:"blood_pact"===e.type,frostArmorActive:"frost_armor"===e.type,fireballActive:"fireball"===e.type})})}))},[]),f=j.useCallback(()=>{t(e=>c(l({},e),{adventureSkills:c(l({},e.adventureSkills),{showSelectionModal:!1,selectedSkill:null})}))},[]),w=j.useCallback(()=>{t(e=>c(l({},e),{adventureSkills:c(l({},e.adventureSkills),{skillEffects:c(l({},e.adventureSkills.skillEffects),{skipCardUsed:!0})})}))},[]),k=j.useCallback((e,s)=>{t(t=>{if(!t.currentEnemy)return t;let a=l({},t),i=0,o=0;if(e){if(i=Math.max(1,a.playerStats.atk-a.currentEnemy.def),a.adventureSkills.skillEffects.lightningChainActive&&Math.random()<.3&&(i*=2,a.combatLog.push("⚡ Lightning Chain activated! Double damage!")),a.adventureSkills.skillEffects.criticalStrikeActive&&Math.random()<.25&&(i*=3,a.combatLog.push("💥 Critical Strike! Triple damage!")),a.adventureSkills.skillEffects.doubleStrikeActive&&(i*=2,a.combatLog.push("⚔️ Double Strike! Attack hits twice!")),a.currentEnemy.hp=Math.max(0,a.currentEnemy.hp-i),a.combatLog.push(`You deal ${i} damage to the ${a.currentEnemy.name}!`),a.adventureSkills.skillEffects.healingAuraActive){const e=15;a.playerStats.hp=Math.min(a.playerStats.maxHp,a.playerStats.hp+e),a.combatLog.push(`🌟 Healing Aura restores ${e} HP!`)}a.knowledgeStreak.current+=1,a.knowledgeStreak.current>a.knowledgeStreak.best&&(a.knowledgeStreak.best=a.knowledgeStreak.current),a.knowledgeStreak.multiplier=1+.1*a.knowledgeStreak.current,a.statistics.correctAnswers+=1,s&&(a.statistics.accuracyByCategory[s]||(a.statistics.accuracyByCategory[s]={correct:0,total:0}),a.statistics.accuracyByCategory[s].correct+=1,a.statistics.accuracyByCategory[s].total+=1)}else a.adventureSkills.skillEffects.dodgeUsed||a.adventureSkills.skillEffects.metalShieldUsed?a.adventureSkills.skillEffects.dodgeUsed?(a.combatLog.push("🏃 Dodge activated! No damage taken!"),a.adventureSkills.skillEffects.dodgeUsed=!1):a.adventureSkills.skillEffects.metalShieldUsed&&(a.combatLog.push("🛡️ Metal Shield blocks the attack!"),a.adventureSkills.skillEffects.metalShieldUsed=!1):(o=Math.max(1,a.currentEnemy.atk-a.playerStats.def),a.adventureSkills.skillEffects.shieldWallActive&&(o=Math.floor(.5*o),a.combatLog.push("🛡️ Shield Wall reduces damage!")),a.playerStats.hp=Math.max(0,a.playerStats.hp-o),a.combatLog.push(`The ${a.currentEnemy.name} deals ${o} damage to you!`)),a.knowledgeStreak.current=0,a.knowledgeStreak.multiplier=1,s&&(a.statistics.accuracyByCategory[s]||(a.statistics.accuracyByCategory[s]={correct:0,total:0}),a.statistics.accuracyByCategory[s].total+=1);if(a.statistics.totalQuestionsAnswered+=1,a.currentEnemy.hp<=0){const e=10+2*a.zone,t=Math.floor(a.zone/5)+1;let s=Math.floor(e*a.knowledgeStreak.multiplier),i=Math.floor(t*a.knowledgeStreak.multiplier);if("blitz"===a.gameMode.current?(s=Math.floor(1.25*s),i=Math.floor(1.1*i)):"survival"===a.gameMode.current&&(s*=2,i*=2),a.coins+=s,a.gems+=i,a.zone+=1,a.inCombat=!1,a.currentEnemy=null,a.zone>=50&&(a.isPremium=!0),a.combatLog.push(`Victory! You earned ${s} coins and ${i} gems!`),a.statistics.totalVictories+=1,a.statistics.coinsEarned+=s,a.statistics.gemsEarned+=i,a.zone>=10&&Math.random()<.3){const e=Math.random()<.5,t=e?h():p();e?a.inventory.weapons.push(t):a.inventory.armor.push(t),a.combatLog.push(`You found a ${t.name}!`),a.statistics.itemsCollected+=1;const s=t.name;e?a.collectionBook.weapons[s]||(a.collectionBook.weapons[s]=!0,a.collectionBook.totalWeaponsFound+=1):a.collectionBook.armor[s]||(a.collectionBook.armor[s]=!0,a.collectionBook.totalArmorFound+=1),a.collectionBook.rarityStats[t.rarity]+=1}const o=10+a.zone;for(a.progression.experience+=o;a.progression.experience>=a.progression.experienceToNext;)a.progression.experience-=a.progression.experienceToNext,a.progression.level+=1,a.progression.skillPoints+=1,a.progression.experienceToNext=Math.floor(100*Math.pow(1.1,a.progression.level-1)),a.combatLog.push(`Level up! You are now level ${a.progression.level}!`);const d=(e=>{const t=[];return r.forEach(s=>{const a=e.achievements.find(e=>e.id===s.id);if(null==a?void 0:a.unlocked)return;let r=0,n=!1;switch(s.id){case"first_victory":r=e.zone>1?1:0,n=r>=1;break;case"zone_master_10":r=Math.min(e.zone,10),n=e.zone>=10;break;case"zone_master_25":r=Math.min(e.zone,25),n=e.zone>=25;break;case"zone_master_50":r=Math.min(e.zone,50),n=e.zone>=50;break;case"zone_master_100":r=Math.min(e.zone,100),n=e.zone>=100;break;case"zone_master_250":r=Math.min(e.zone,250),n=e.zone>=250;break;case"zone_master_500":r=Math.min(e.zone,500),n=e.zone>=500;break;case"collector_25":r=Math.min(e.collectionBook.totalWeaponsFound+e.collectionBook.totalArmorFound,25),n=r>=25;break;case"collector_50":r=Math.min(e.collectionBook.totalWeaponsFound+e.collectionBook.totalArmorFound,50),n=r>=50;break;case"collector_100":r=Math.min(e.collectionBook.totalWeaponsFound+e.collectionBook.totalArmorFound,100),n=r>=100;break;case"scholar_tier_5":r=Math.min(e.research.level,5),n=e.research.level>=5;break;case"scholar_tier_10":r=Math.min(e.research.level,10),n=e.research.level>=10;break;case"scholar_tier_25":r=Math.min(e.research.level,25),n=e.research.level>=25;break;case"scholar_tier_50":r=Math.min(e.research.level,50),n=e.research.level>=50;break;case"streak_master_10":r=Math.min(e.knowledgeStreak.best,10),n=e.knowledgeStreak.best>=10;break;case"streak_master_25":r=Math.min(e.knowledgeStreak.best,25),n=e.knowledgeStreak.best>=25;break;case"streak_master_50":r=Math.min(e.knowledgeStreak.best,50),n=e.knowledgeStreak.best>=50;break;case"streak_master_100":r=Math.min(e.knowledgeStreak.best,100),n=e.knowledgeStreak.best>=100;break;case"wealthy_1000":r=Math.min(e.statistics.coinsEarned,1e3),n=e.statistics.coinsEarned>=1e3;break;case"wealthy_10000":r=Math.min(e.statistics.coinsEarned,1e4),n=e.statistics.coinsEarned>=1e4;break;case"wealthy_100000":r=Math.min(e.statistics.coinsEarned,1e5),n=e.statistics.coinsEarned>=1e5;break;case"wealthy_1000000":r=Math.min(e.statistics.coinsEarned,1e6),n=e.statistics.coinsEarned>=1e6;break;case"gem_collector_100":r=Math.min(e.statistics.gemsEarned,100),n=e.statistics.gemsEarned>=100;break;case"gem_collector_1000":r=Math.min(e.statistics.gemsEarned,1e3),n=e.statistics.gemsEarned>=1e3;break;case"gem_collector_10000":r=Math.min(e.statistics.gemsEarned,1e4),n=e.statistics.gemsEarned>=1e4;break;case"chest_opener_10":r=Math.min(e.statistics.chestsOpened,10),n=e.statistics.chestsOpened>=10;break;case"chest_opener_50":r=Math.min(e.statistics.chestsOpened,50),n=e.statistics.chestsOpened>=50;break;case"chest_opener_100":r=Math.min(e.statistics.chestsOpened,100),n=e.statistics.chestsOpened>=100;break;case"accuracy_master_90":const t=e.statistics.totalQuestionsAnswered;if(t>=50){const s=e.statistics.correctAnswers/t;r=s>=.9?50:0,n=s>=.9}break;case"accuracy_master_95":const s=e.statistics.totalQuestionsAnswered;if(s>=100){const t=e.statistics.correctAnswers/s;r=t>=.95?100:0,n=t>=.95}break;case"legendary_finder":r=e.collectionBook.rarityStats.legendary>0?1:0,n=r>=1;break;case"mythical_finder":r=e.collectionBook.rarityStats.mythical>0?1:0,n=r>=1;break;case"legendary_collector_10":r=Math.min(e.collectionBook.rarityStats.legendary,10),n=e.collectionBook.rarityStats.legendary>=10;break;case"mythical_collector_5":r=Math.min(e.collectionBook.rarityStats.mythical,5),n=e.collectionBook.rarityStats.mythical>=5;break;case"warrior_100":r=Math.min(e.statistics.totalVictories,100),n=e.statistics.totalVictories>=100;break;case"warrior_500":r=Math.min(e.statistics.totalVictories,500),n=e.statistics.totalVictories>=500;break;case"warrior_1000":r=Math.min(e.statistics.totalVictories,1e3),n=e.statistics.totalVictories>=1e3;break;case"miner_100":r=Math.min(e.mining.totalGemsMined,100),n=e.mining.totalGemsMined>=100;break;case"miner_1000":r=Math.min(e.mining.totalGemsMined,1e3),n=e.mining.totalGemsMined>=1e3;break;case"shiny_hunter_10":r=Math.min(e.mining.totalShinyGemsMined,10),n=e.mining.totalShinyGemsMined>=10;break;case"shiny_hunter_100":r=Math.min(e.mining.totalShinyGemsMined,100),n=e.mining.totalShinyGemsMined>=100;break;case"enchanted_finder_10":const a=[...e.inventory.weapons,...e.inventory.armor].filter(e=>e.isEnchanted).length;r=Math.min(a,10),n=a>=10;break;case"relic_seeker_5":r=Math.min(e.inventory.relics.length,5),n=e.inventory.relics.length>=5;break;case"knowledge_master_1000":r=Math.min(e.statistics.correctAnswers,1e3),n=e.statistics.correctAnswers>=1e3;break;case"knowledge_master_10000":r=Math.min(e.statistics.correctAnswers,1e4),n=e.statistics.correctAnswers>=1e4;break;case"gardener_first":r=e.gardenOfGrowth.isPlanted?1:0,n=e.gardenOfGrowth.isPlanted;break;case"gardener_master":r=Math.min(e.gardenOfGrowth.growthCm,50),n=e.gardenOfGrowth.growthCm>=50;break;case"gardener_legend":r=Math.min(e.gardenOfGrowth.growthCm,100),n=e.gardenOfGrowth.growthCm>=100}n&&!(null==a?void 0:a.unlocked)?t.push(c(l({},s),{unlocked:!0,unlockedAt:new Date,progress:s.maxProgress})):a&&(a.progress=r)}),t})(a),m=(e=>{const t=[];return n.forEach(s=>{const a=e.playerTags.find(e=>e.id===s.id);if(null==a?void 0:a.unlocked)return;let r=!1;switch(s.id){case"zone_explorer":r=e.zone>=25;break;case"zone_master":r=e.zone>=100;break;case"zone_legend":r=e.zone>=250;break;case"zone_god":r=e.zone>=500;break;case"coin_collector":r=e.statistics.coinsEarned>=1e4;break;case"gem_collector":r=e.statistics.gemsEarned>=1e3;break;case"millionaire":r=e.statistics.coinsEarned>=1e6;break;case"knowledge_master":r=e.statistics.correctAnswers>=1e3;break;case"knowledge_god":r=e.statistics.correctAnswers>=1e4;break;case"streak_master":r=e.knowledgeStreak.best>=50;break;case"streak_legend":r=e.knowledgeStreak.best>=100;break;case"warrior":r=e.statistics.totalVictories>=500;break;case"war_hero":r=e.statistics.totalVictories>=1e3;break;case"collector":r=e.collectionBook.totalWeaponsFound+e.collectionBook.totalArmorFound>=50;break;case"legendary_collector":r=e.collectionBook.rarityStats.legendary>=10;break;case"mythical_seeker":r=e.collectionBook.rarityStats.mythical>=5;break;case"miner":r=e.mining.totalGemsMined>=1e3;break;case"shiny_hunter":r=e.mining.totalShinyGemsMined>=100;break;case"enchanted_finder":r=[...e.inventory.weapons,...e.inventory.armor].filter(e=>e.isEnchanted).length>=10;break;case"relic_seeker":r=e.inventory.relics.length>=5;break;case"scholar":r=e.research.level>=25;break;case"sage":r=e.research.level>=50;break;case"gardener":r=e.gardenOfGrowth.isPlanted;break;case"master_gardener":r=e.gardenOfGrowth.growthCm>=50;break;case"legendary_gardener":r=e.gardenOfGrowth.growthCm>=100;break;case"premium_member":r=e.isPremium;break;case"precision_master":const t=e.statistics.totalQuestionsAnswered;t>=100&&(r=e.statistics.correctAnswers/t>=.95)}r&&!(null==a?void 0:a.unlocked)&&t.push(c(l({},s),{unlocked:!0,unlockedAt:new Date}))}),t})(a);a.achievements=a.achievements.map(e=>d.find(t=>t.id===e.id)||e),a.playerTags=a.playerTags.map(e=>m.find(t=>t.id===e.id)||e),a.adventureSkills={selectedSkill:null,availableSkills:[],showSelectionModal:!1,skillEffects:{skipCardUsed:!1,metalShieldUsed:!1,dodgeUsed:!1,truthLiesActive:!1,lightningChainActive:!1,rampActive:!1,berserkerActive:!1,vampiricActive:!1,phoenixUsed:!1,timeSlowActive:!1,criticalStrikeActive:!1,shieldWallActive:!1,poisonBladeActive:!1,arcaneShieldActive:!1,battleFrenzyActive:!1,elementalMasteryActive:!1,shadowStepUsed:!1,healingAuraActive:!1,doubleStrikeActive:!1,manaShieldActive:!1,berserkRageActive:!1,divineProtectionUsed:!1,stormCallActive:!1,bloodPactActive:!1,frostArmorActive:!1,fireballActive:!1}}}return a.playerStats.hp<=0&&!a.hasUsedRevival?(a.hasUsedRevival=!0,a.playerStats.hp=Math.floor(.5*a.playerStats.maxHp),a.combatLog.push("💖 You have been revived with 50% HP!"),a.statistics.revivals+=1):a.playerStats.hp<=0&&(a.inCombat=!1,a.currentEnemy=null,a.combatLog.push("You have been defeated!"),a.statistics.totalDeaths+=1,a.zone=1,a.playerStats.hp=Math.floor(.25*a.playerStats.maxHp),a.adventureSkills={selectedSkill:null,availableSkills:[],showSelectionModal:!1,skillEffects:{skipCardUsed:!1,metalShieldUsed:!1,dodgeUsed:!1,truthLiesActive:!1,lightningChainActive:!1,rampActive:!1,berserkerActive:!1,vampiricActive:!1,phoenixUsed:!1,timeSlowActive:!1,criticalStrikeActive:!1,shieldWallActive:!1,poisonBladeActive:!1,arcaneShieldActive:!1,battleFrenzyActive:!1,elementalMasteryActive:!1,shadowStepUsed:!1,healingAuraActive:!1,doubleStrikeActive:!1,manaShieldActive:!1,berserkRageActive:!1,divineProtectionUsed:!1,stormCallActive:!1,bloodPactActive:!1,frostArmorActive:!1,fireballActive:!1}}),a})},[]),_=j.useCallback((e,s,a,r)=>(t(t=>{const n=("weapon"===s?t.inventory.weapons:t.inventory.armor).find(t=>t.id===e);if(!n)return t;const i={id:`listing_${Date.now()}_${Math.random()}`,item:n,startingBid:a,currentBid:a,highestBidder:null,timeRemaining:r,endTime:new Date(Date.now()+60*r*1e3),isPlayerListing:!0,aiInterest:"none",bids:[]};return c(l({},t),{auctionHouse:c(l({},t.auctionHouse),{playerListings:[...t.auctionHouse.playerListings,i]})})}),!0),[]),S=j.useCallback((e,s)=>(t(t=>{if(t.coins<s)return t;const a=t.auctionHouse.aiListings.find(t=>t.id===e);if(!a||s<=a.currentBid)return t;const r={bidder:"player",amount:s,timestamp:new Date};return c(l({},t),{coins:t.coins-s,auctionHouse:c(l({},t.auctionHouse),{aiListings:t.auctionHouse.aiListings.map(t=>t.id===e?c(l({},t),{currentBid:s,highestBidder:"player",bids:[...t.bids,r]}):t)})})}),!0),[]),N=j.useCallback(e=>(t(t=>{const s=t.auctionHouse.aiListings.find(t=>t.id===e);if(!s||s.timeRemaining>0||"player"!==s.highestBidder)return t;const a=s.item;return c(l({},t),{inventory:c(l({},t.inventory),{weapons:"baseAtk"in a?[...t.inventory.weapons,a]:t.inventory.weapons,armor:"baseDef"in a?[...t.inventory.armor,a]:t.inventory.armor}),auctionHouse:c(l({},t.auctionHouse),{aiListings:t.auctionHouse.aiListings.filter(t=>t.id!==e)})})}),!0),[]),M=j.useCallback(e=>{t(t=>c(l({},t),{inventory:c(l({},t.inventory),{currentWeapon:e}),playerStats:c(l({},t.playerStats),{atk:t.playerStats.baseAtk+e.baseAtk+10*(e.level-1)})}))},[]),C=j.useCallback(e=>{t(t=>c(l({},t),{inventory:c(l({},t.inventory),{currentArmor:e}),playerStats:c(l({},t.playerStats),{def:t.playerStats.baseDef+e.baseDef+5*(e.level-1)})}))},[]),A=j.useCallback(e=>{t(t=>{const s=t.inventory.weapons.find(t=>t.id===e);if(!s||t.gems<s.upgradeCost)return t;const a=t.inventory.weapons.map(t=>t.id===e?c(l({},t),{level:t.level+1,upgradeCost:Math.floor(1.5*t.upgradeCost)}):t);return c(l({},t),{gems:t.gems-s.upgradeCost,inventory:c(l({},t.inventory),{weapons:a}),statistics:c(l({},t.statistics),{itemsUpgraded:t.statistics.itemsUpgraded+1})})})},[]),P=j.useCallback(e=>{t(t=>{const s=t.inventory.armor.find(t=>t.id===e);if(!s||t.gems<s.upgradeCost)return t;const a=t.inventory.armor.map(t=>t.id===e?c(l({},t),{level:t.level+1,upgradeCost:Math.floor(1.5*t.upgradeCost)}):t);return c(l({},t),{gems:t.gems-s.upgradeCost,inventory:c(l({},t.inventory),{armor:a}),statistics:c(l({},t.statistics),{itemsUpgraded:t.statistics.itemsUpgraded+1})})})},[]),R=j.useCallback(e=>{t(t=>{const s=t.inventory.weapons.find(t=>t.id===e);return s?c(l({},t),{coins:t.coins+s.sellPrice,inventory:c(l({},t.inventory),{weapons:t.inventory.weapons.filter(t=>t.id!==e)}),statistics:c(l({},t.statistics),{itemsSold:t.statistics.itemsSold+1})}):t})},[]),E=j.useCallback(e=>{t(t=>{const s=t.inventory.armor.find(t=>t.id===e);return s?c(l({},t),{coins:t.coins+s.sellPrice,inventory:c(l({},t.inventory),{armor:t.inventory.armor.filter(t=>t.id!==e)}),statistics:c(l({},t.statistics),{itemsSold:t.statistics.itemsSold+1})}):t})},[]),G=j.useCallback(e=>{t(t=>{const s=u(t.research.level);if(t.coins<s)return t;const a=t.research.level+1;return c(l({},t),{coins:t.coins-s,research:c(l({},t.research),{level:a,totalSpent:t.research.totalSpent+s}),playerStats:c(l({},t.playerStats),{["atk"===e?"baseAtk":"def"===e?"baseDef":"baseHp"]:t.playerStats["atk"===e?"baseAtk":"def"===e?"baseDef":"baseHp"]+10}),statistics:c(l({},t.statistics),{totalResearchSpent:t.statistics.totalResearchSpent+s})})})},[]),L=j.useCallback(s=>e.coins<s?null:(t(e=>{const t=g(s),a=100*Math.random();let r="common",n=0;const i=["common","rare","epic","legendary","mythical"];for(let s=0;s<t.length;s++)if(n+=t[s],a<=n){r=i[s];break}const o=Math.random()<.5,d=o?h(!1,r):p(!1,r);return c(l({},e),{coins:e.coins-s,gems:e.gems+Math.floor(10*Math.random())+5,inventory:c(l({},e.inventory),{weapons:o?[...e.inventory.weapons,d]:e.inventory.weapons,armor:o?e.inventory.armor:[...e.inventory.armor,d]}),statistics:c(l({},e.statistics),{chestsOpened:e.statistics.chestsOpened+1,itemsCollected:e.statistics.itemsCollected+1})})}),{type:"weapon",items:[]}),[e.coins]),z=j.useCallback((e,s)=>{t(t=>c(l({},t),{inventory:c(l({},t.inventory),{weapons:"weapon"===s?t.inventory.weapons.filter(t=>t.id!==e):t.inventory.weapons,armor:"armor"===s?t.inventory.armor.filter(t=>t.id!==e):t.inventory.armor})}))},[]),D=j.useCallback(s=>!(e.coins<s||(t(e=>{const t=Math.random()<.5,a=t?h(!1,"mythical"):p(!1,"mythical");return c(l({},e),{coins:e.coins-s,inventory:c(l({},e.inventory),{weapons:t?[...e.inventory.weapons,a]:e.inventory.weapons,armor:t?e.inventory.armor:[...e.inventory.armor,a]})})}),0)),[e.coins]),O=j.useCallback(()=>{t(q())},[]),B=j.useCallback(e=>{t(t=>c(l({},t),{gameMode:c(l({},t.gameMode),{current:e,survivalLives:"survival"===e?3:t.gameMode.survivalLives})}))},[]),H=j.useCallback(e=>{t(t=>c(l({},t),{cheats:c(l({},t.cheats),{[e]:!t.cheats[e]})}))},[]),T=j.useCallback(()=>{},[]),I=j.useCallback((e,s)=>{const a=Math.random()<.05,r=a?0:1,n=a?1:0;return t(e=>c(l({},e),{gems:e.gems+r,shinyGems:e.shinyGems+n,mining:c(l({},e.mining),{totalGemsMined:e.mining.totalGemsMined+r,totalShinyGemsMined:e.mining.totalShinyGemsMined+n})})),{gems:r,shinyGems:n}},[]),U=j.useCallback(s=>!(e.shinyGems<s||(t(e=>c(l({},e),{shinyGems:e.shinyGems-s,gems:e.gems+10*s})),0)),[e.shinyGems]),W=j.useCallback(e=>(t(t=>{const s=t.yojefMarket.items.find(t=>t.id===e);return!s||t.gems<s.cost?t:c(l({},t),{gems:t.gems-s.cost,inventory:c(l({},t.inventory),{relics:[...t.inventory.relics,s]}),yojefMarket:c(l({},t.yojefMarket),{items:t.yojefMarket.items.filter(t=>t.id!==e)})})}),!0),[]),F=j.useCallback(e=>{t(t=>{const s=t.inventory.relics.find(t=>t.id===e);if(!s||t.gems<s.upgradeCost)return t;const a=t.inventory.relics.map(t=>t.id===e?c(l({},t),{level:t.level+1,upgradeCost:Math.floor(1.5*t.upgradeCost)}):t);return c(l({},t),{gems:t.gems-s.upgradeCost,inventory:c(l({},t.inventory),{relics:a})})})},[]),V=j.useCallback(e=>{t(t=>{const s=t.inventory.relics.find(t=>t.id===e);return!s||t.inventory.equippedRelics.length>=5?t:c(l({},t),{inventory:c(l({},t.inventory),{equippedRelics:[...t.inventory.equippedRelics,s]})})})},[]),$=j.useCallback(e=>{t(t=>c(l({},t),{inventory:c(l({},t.inventory),{equippedRelics:t.inventory.equippedRelics.filter(t=>t.id!==e)})}))},[]),Y=j.useCallback(e=>{t(t=>c(l({},t),{inventory:c(l({},t.inventory),{relics:t.inventory.relics.filter(t=>t.id!==e)})}))},[]),K=j.useCallback(()=>(t(e=>{if(!e.dailyRewards.availableReward)return e;const t=e.dailyRewards.availableReward;return c(l({},e),{coins:e.coins+t.coins,gems:e.gems+t.gems,dailyRewards:c(l({},e.dailyRewards),{availableReward:null,lastClaimDate:new Date,rewardHistory:[...e.dailyRewards.rewardHistory,c(l({},t),{claimed:!0,claimDate:new Date})]})})}),!0),[]),Q=j.useCallback(e=>(t(t=>t.progression.skillPoints<=0?t:c(l({},t),{progression:c(l({},t.progression),{skillPoints:t.progression.skillPoints-1,unlockedSkills:[...t.progression.unlockedSkills,e]})})),!0),[]),J=j.useCallback(()=>(t(e=>{if(e.progression.level<50)return e;const t=Math.floor(e.progression.level/10);return c(l({},e),{progression:c(l({},e.progression),{level:1,experience:0,experienceToNext:100,skillPoints:0,prestigeLevel:e.progression.prestigeLevel+1,prestigePoints:e.progression.prestigePoints+t})})}),!0),[]),X=j.useCallback(()=>{t(e=>c(l({},e),{coins:e.coins+e.offlineProgress.offlineCoins,gems:e.gems+e.offlineProgress.offlineGems,offlineProgress:c(l({},e.offlineProgress),{offlineCoins:0,offlineGems:0,offlineTime:0})}))},[]),ee=j.useCallback((e,s)=>{t(t=>{const a=("weapon"===s?t.inventory.weapons:t.inventory.armor).filter(t=>e.includes(t.id)).reduce((e,t)=>e+t.sellPrice,0);return c(l({},t),{coins:t.coins+a,inventory:c(l({},t.inventory),{weapons:"weapon"===s?t.inventory.weapons.filter(t=>!e.includes(t.id)):t.inventory.weapons,armor:"armor"===s?t.inventory.armor.filter(t=>!e.includes(t.id)):t.inventory.armor})})})},[]),te=j.useCallback((e,s)=>{t(t=>{const a=("weapon"===s?t.inventory.weapons:t.inventory.armor).filter(t=>e.includes(t.id)).reduce((e,t)=>e+t.upgradeCost,0);return t.gems<a?t:c(l({},t),{gems:t.gems-a,inventory:c(l({},t.inventory),{weapons:"weapon"===s?t.inventory.weapons.map(t=>e.includes(t.id)?c(l({},t),{level:t.level+1,upgradeCost:Math.floor(1.5*t.upgradeCost)}):t):t.inventory.weapons,armor:"armor"===s?t.inventory.armor.map(t=>e.includes(t.id)?c(l({},t),{level:t.level+1,upgradeCost:Math.floor(1.5*t.upgradeCost)}):t):t.inventory.armor})})})},[]),se=j.useCallback(()=>(t(e=>e.coins<e.gardenOfGrowth.seedCost||e.gardenOfGrowth.isPlanted?e:c(l({},e),{coins:e.coins-e.gardenOfGrowth.seedCost,gardenOfGrowth:c(l({},e.gardenOfGrowth),{isPlanted:!0,plantedAt:new Date,lastWatered:new Date,waterHoursRemaining:24})})),!0),[]),ae=j.useCallback(e=>(t(t=>{const s=Math.floor(e/24*t.gardenOfGrowth.waterCost);return t.coins<s?t:c(l({},t),{coins:t.coins-s,gardenOfGrowth:c(l({},t.gardenOfGrowth),{waterHoursRemaining:t.gardenOfGrowth.waterHoursRemaining+e,lastWatered:new Date})})}),!0),[]),re=j.useCallback(e=>{t(t=>c(l({},t),{settings:l(l({},t.settings),e)}))},[]),ne=j.useCallback(e=>{t(t=>c(l({},t),{coins:t.coins+e}))},[]),ie=j.useCallback(e=>{t(t=>c(l({},t),{gems:t.gems+e}))},[]),oe=j.useCallback(e=>{t(t=>c(l({},t),{zone:Math.max(1,e)}))},[]),le=j.useCallback(e=>{t(t=>c(l({},t),{progression:c(l({},t.progression),{experience:Math.max(0,e)})}))},[]),ce=j.useCallback(()=>(t(e=>{if(e.coins<100)return e;const t=["coin_vacuum","treasurer","xp_surge","luck_gem","enchanter","time_warp","golden_touch","knowledge_boost","durability_master","relic_finder","stat_amplifier","question_master","gem_magnet","streak_guardian","revival_blessing","zone_skipper","item_duplicator","research_accelerator","garden_booster","market_refresh","mega_multiplier","instant_heal","perfect_accuracy","treasure_magnet","skill_cooldown","auto_upgrade","legendary_luck","time_freeze","double_rewards","infinite_energy"],s=t[Math.floor(Math.random()*t.length)],a=Math.floor(24*Math.random())+1,r={id:`skill_${Date.now()}`,name:s.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase()),description:"A powerful temporary ability",duration:a,activatedAt:new Date,expiresAt:new Date(Date.now()+60*a*60*1e3),type:s};return c(l({},e),{coins:e.coins-100,skills:c(l({},e.skills),{activeMenuSkill:r,lastRollTime:new Date})})}),!0),[]);return{gameState:e,isLoading:s,equipWeapon:M,equipArmor:C,upgradeWeapon:A,upgradeArmor:P,sellWeapon:R,sellArmor:E,upgradeResearch:G,openChest:L,purchaseMythical:D,startCombat:b,attack:k,resetGame:O,setGameMode:B,toggleCheat:H,generateCheatItem:T,mineGem:I,exchangeShinyGems:U,discardItem:z,purchaseRelic:W,upgradeRelic:F,equipRelic:V,unequipRelic:$,sellRelic:Y,claimDailyReward:K,upgradeSkill:Q,prestige:J,claimOfflineRewards:X,bulkSell:ee,bulkUpgrade:te,plantSeed:se,buyWater:ae,updateSettings:re,addCoins:ne,addGems:ie,teleportToZone:oe,setExperience:le,rollSkill:ce,selectAdventureSkill:v,skipAdventureSkills:f,useSkipCard:w,listItem:_,placeBid:S,claimWonItem:N}},Y=({playerStats:e,zone:t,coins:s,gems:a,shinyGems:r,playerTags:n,progression:i})=>{const o=n.filter(e=>e.unlocked);return x.jsxs("div",{className:"bg-gradient-to-br from-slate-800/80 via-slate-900/80 to-black/80 p-6 rounded-xl shadow-2xl border border-slate-600/50 backdrop-blur-sm",children:[x.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6 text-center",children:"Hero Status"}),o.length>0&&x.jsxs("div",{className:"mb-6",children:[x.jsx("h3",{className:"text-white font-semibold text-sm mb-3",children:"Player Tags"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(e=>x.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-semibold ${e.color} bg-black/30 border border-current/30 backdrop-blur-sm`,children:[e.icon," ",e.name]},e.id))})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-indigo-500/30",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx(_,{className:"w-5 h-5 text-indigo-400"}),x.jsx("span",{className:"text-white font-semibold",children:"Character Level"})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("span",{className:"text-indigo-400 font-bold text-2xl",children:["Lv.",i.level]}),x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:x.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-3 rounded-full transition-all duration-500",style:{width:i.experience/i.experienceToNext*100+"%"}})}),x.jsxs("p",{className:"text-xs text-gray-300 mt-2",children:[i.experience,"/",i.experienceToNext," XP"]})]}),x.jsxs("span",{className:"text-yellow-400 font-semibold bg-black/30 px-3 py-1 rounded-lg",children:["SP: ",i.skillPoints]})]})]}),x.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-red-500/30",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx(S,{className:"w-5 h-5 text-red-400"}),x.jsx("span",{className:"text-white font-semibold",children:"Health"})]}),x.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4",children:x.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-400 h-4 rounded-full transition-all duration-300",style:{width:e.hp/e.maxHp*100+"%"}})}),x.jsxs("p",{className:"text-sm text-gray-300 mt-2 text-center font-semibold",children:[e.hp,"/",e.maxHp]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-orange-500/30",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(N,{className:"w-4 h-4 text-orange-400"}),x.jsx("span",{className:"text-white font-semibold text-sm",children:"Attack"})]}),x.jsx("p",{className:"text-2xl font-bold text-orange-400",children:e.atk})]}),x.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-blue-500/30",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(M,{className:"w-4 h-4 text-blue-400"}),x.jsx("span",{className:"text-white font-semibold text-sm",children:"Defense"})]}),x.jsx("p",{className:"text-2xl font-bold text-blue-400",children:e.def})]})]}),x.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-green-500/30",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[x.jsx(C,{className:"w-5 h-5 text-green-400"}),x.jsx("span",{className:"text-white font-semibold",children:"Current Zone"})]}),x.jsx("p",{className:"text-3xl font-bold text-green-400 text-center",children:t}),t>=10&&x.jsx("p",{className:"text-xs text-green-300 mt-2 text-center bg-green-900/30 py-1 px-2 rounded-lg",children:"Enemies can drop items!"})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[x.jsxs("div",{className:"bg-black/30 p-3 rounded-xl border border-yellow-500/30",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(A,{className:"w-4 h-4 text-yellow-400"}),x.jsx("span",{className:"text-white font-semibold text-xs",children:"Coins"})]}),x.jsx("p",{className:"text-lg font-bold text-yellow-400 text-center",children:s.toLocaleString()})]}),x.jsxs("div",{className:"bg-black/30 p-3 rounded-xl border border-purple-500/30",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(P,{className:"w-4 h-4 text-purple-400"}),x.jsx("span",{className:"text-white font-semibold text-xs",children:"Gems"})]}),x.jsx("p",{className:"text-lg font-bold text-purple-400 text-center",children:a.toLocaleString()})]}),x.jsxs("div",{className:"bg-black/30 p-3 rounded-xl border border-yellow-500/30",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(R,{className:"w-4 h-4 text-yellow-400"}),x.jsx("span",{className:"text-white font-semibold text-xs",children:"Shiny"})]}),x.jsx("p",{className:"text-lg font-bold text-yellow-400 text-center",children:r.toLocaleString()})]})]})]})]})},K=({research:e,coins:t,onUpgradeResearch:s,isPremium:a})=>{const[r,n]=j.useState(!1),i=u(e.level),o=y(e.level),l=y(e.level+1),c=[{key:"atk",name:"Attack Research",icon:N,color:"text-orange-400",bgColor:"bg-orange-900/30",borderColor:"border-orange-500/50",description:"Increase your attack power by 10%"},{key:"def",name:"Defense Research",icon:M,color:"text-blue-400",bgColor:"bg-blue-900/30",borderColor:"border-blue-500/50",description:"Increase your defense power by 10%"},{key:"hp",name:"Health Research",icon:S,color:"text-red-400",bgColor:"bg-red-900/30",borderColor:"border-red-500/50",description:"Increase your maximum health by 10%"}];return x.jsxs("div",{className:"bg-gradient-to-br from-indigo-900 via-purple-900 to-blue-900 p-4 sm:p-6 rounded-lg shadow-2xl",children:[x.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[x.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[x.jsx(E,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-400"}),x.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Research Laboratory"})]}),x.jsx("p",{className:"text-blue-300 text-sm sm:text-base",children:"Advance your knowledge and power"})]}),x.jsx("div",{className:"max-w-md mx-auto",children:x.jsxs("div",{className:"p-4 sm:p-6 rounded-lg border-2 border-purple-500/50 bg-purple-900/30",children:[x.jsxs("div",{className:"text-center mb-4",children:[x.jsx(E,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 text-purple-400"}),x.jsx("h3",{className:"font-bold text-lg sm:text-xl text-purple-400",children:"Universal Research"}),x.jsx("p",{className:"text-gray-300 text-sm mt-2",children:"Choose your path of advancement"})]}),x.jsxs("div",{className:"space-y-3 mb-4",children:[x.jsxs("div",{className:"bg-black/30 p-3 rounded-lg",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(_,{className:"w-4 h-4 text-green-400"}),x.jsx("span",{className:"text-white font-semibold text-sm",children:"Research Level"})]}),x.jsx("p",{className:"text-2xl font-bold text-green-400",children:e.level})]}),x.jsxs("div",{className:"bg-black/30 p-3 rounded-lg",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(_,{className:"w-4 h-4 text-yellow-400"}),x.jsx("span",{className:"text-white font-semibold text-sm",children:"Current Bonus"})]}),x.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:["+",o,"%"]})]})]}),x.jsxs("div",{className:"bg-black/40 p-4 rounded-lg",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-white font-semibold text-sm",children:"Next Level"}),x.jsxs("p",{className:"text-gray-300 text-xs",children:["Bonus: +",o,"% → +",l,"%"]})]}),x.jsxs("div",{className:"flex items-center gap-2 text-yellow-300",children:[x.jsx(A,{className:"w-4 h-4"}),x.jsx("span",{className:"font-semibold text-sm",children:i})]})]}),x.jsx("button",{onClick:()=>n(!0),disabled:t<i,className:"w-full py-3 rounded-lg font-bold transition-all duration-200 text-sm "+(t>=i?"bg-gradient-to-r from-purple-600 to-purple-500 text-white hover:scale-105 shadow-lg":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:t>=i?"Choose Upgrade Path":"Insufficient Coins"}),x.jsx("div",{className:"mt-3 text-center",children:x.jsxs("p",{className:"text-xs text-gray-300",children:["Total spent: ",e.totalSpent," coins"]})})]})]})}),r&&x.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-gradient-to-br from-purple-900 to-indigo-900 p-6 rounded-lg border border-purple-500/50 max-w-2xl w-full",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h3",{className:"text-white font-bold text-xl",children:"Choose Your Research Path"}),x.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-white transition-colors",children:x.jsx(G,{className:"w-5 h-5"})})]}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:c.map(e=>{const t=e.icon;return x.jsx("button",{onClick:()=>{return t=e.key,s(t),void n(!1);var t},className:`p-4 rounded-lg border-2 ${e.borderColor} ${e.bgColor} hover:scale-105 transition-all duration-200`,children:x.jsxs("div",{className:"text-center",children:[x.jsx(t,{className:`w-12 h-12 mx-auto mb-3 ${e.color}`}),x.jsx("h4",{className:`font-bold text-lg ${e.color} mb-2`,children:e.name}),x.jsx("p",{className:"text-gray-300 text-sm",children:e.description})]})},e.key)})}),x.jsx("div",{className:"mt-6 text-center",children:x.jsx("p",{className:"text-gray-300 text-sm",children:"Each upgrade provides a permanent 10% bonus to the selected stat"})})]})}),x.jsx("div",{className:"mt-4 sm:mt-6 text-center",children:x.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:"Research provides permanent stat bonuses. Choose wisely!"})})]})},Q=({mining:e,gems:t,shinyGems:s,onMineGem:a,onExchangeShinyGems:r})=>{const[n,i]=j.useState(null),[o,l]=j.useState(!1),[c,d]=j.useState(0);j.useEffect(()=>{if(!n){const e=Math.random()<.05;i({isShiny:e})}},[n]);const m=e=>{r(e)||alert("Not enough shiny gems!")};return x.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-slate-900 to-gray-800 p-4 sm:p-6 rounded-lg shadow-2xl",children:[x.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[x.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[x.jsx(P,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-400"}),x.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Gem Mining"})]}),x.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"Click the gem node to mine it!"}),x.jsxs("div",{className:"flex items-center justify-center gap-4 mt-3",children:[x.jsxs("div",{className:"flex items-center gap-2 text-purple-300",children:[x.jsx(P,{className:"w-4 h-4 sm:w-5 sm:h-5"}),x.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:[t," Gems"]})]}),x.jsxs("div",{className:"flex items-center gap-2 text-yellow-300",children:[x.jsx(R,{className:"w-4 h-4 sm:w-5 sm:h-5"}),x.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:[s," Shiny"]})]})]})]}),x.jsxs("div",{className:"mb-4 sm:mb-6",children:[x.jsx("h3",{className:"text-white font-semibold mb-3 text-center text-sm sm:text-base",children:"Mining Node"}),x.jsx("div",{className:"flex justify-center",children:x.jsxs("div",{onClick:()=>{const e=Date.now();e-c<0||!n||(d(e),a(0,0)&&(i(null),setTimeout(()=>{const e=Math.random()<.05;i({isShiny:e})},500)))},className:"w-24 h-24 sm:w-32 sm:h-32 border-4 rounded-xl cursor-pointer transition-all duration-200 relative overflow-hidden "+(n?n.isShiny?"border-yellow-400 bg-gradient-to-br from-yellow-900 to-orange-900 hover:from-yellow-800 hover:to-orange-800 shadow-lg shadow-yellow-500/50 animate-pulse":"border-purple-400 bg-gradient-to-br from-purple-900 to-indigo-900 hover:from-purple-800 hover:to-indigo-800 shadow-lg shadow-purple-500/30":"border-gray-600 bg-gray-800 hover:bg-gray-700"),children:[n&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.isShiny?x.jsx(R,{className:"w-8 h-8 sm:w-12 sm:h-12 text-yellow-400 animate-bounce"}):x.jsx(P,{className:"w-8 h-8 sm:w-12 sm:h-12 text-purple-400"})}),!n&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:x.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-gray-400 border-t-transparent rounded-full"})})]})}),x.jsxs("div",{className:"text-center text-gray-400 text-xs sm:text-sm mt-3 space-y-1",children:[x.jsx("p",{children:"💎 Purple gems = 1 gem | ✨ Golden gems = 1 shiny gem (5% chance)"}),x.jsx("p",{children:"Click to mine instantly! New gems appear automatically."}),!n&&x.jsx("p",{className:"text-yellow-400",children:"Generating new gem node..."})]})]}),x.jsxs("div",{className:"bg-black/30 p-4 rounded-lg mb-4",children:[x.jsx("h3",{className:"text-white font-semibold mb-3 text-center",children:"Mining Statistics"}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-purple-400 font-semibold",children:"Total Gems Mined"}),x.jsx("p",{className:"text-white text-xl font-bold",children:e.totalGemsMined})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-yellow-400 font-semibold",children:"Shiny Gems Found"}),x.jsx("p",{className:"text-white text-xl font-bold",children:e.totalShinyGemsMined})]})]})]}),x.jsx("div",{className:"text-center",children:x.jsxs("button",{onClick:()=>l(!0),className:"px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-yellow-600 to-orange-600 text-white font-bold rounded-lg hover:from-yellow-500 hover:to-orange-500 transition-all duration-200 flex items-center gap-2 mx-auto text-sm sm:text-base",children:[x.jsx(R,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Shiny Exchange"]})}),o&&x.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-gradient-to-br from-yellow-900 to-orange-900 p-4 sm:p-6 rounded-lg border border-yellow-500/50 max-w-md w-full",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(R,{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-400"}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-white font-bold text-lg sm:text-xl",children:"Shiny Exchange"}),x.jsx("p",{className:"text-yellow-300 text-sm",children:"Convert shiny gems to regular gems"})]})]}),x.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-white transition-colors",children:x.jsx(G,{className:"w-5 h-5"})})]}),x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{className:"bg-black/30 p-4 rounded-lg",children:[x.jsxs("div",{className:"text-center mb-4",children:[x.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[x.jsx(R,{className:"w-6 h-6 text-yellow-400"}),x.jsx("span",{className:"text-white font-bold text-lg",children:"Exchange Rate"})]}),x.jsx("p",{className:"text-yellow-300 text-xl font-bold",children:"1 Shiny Gem = 10 Regular Gems"})]}),x.jsx("div",{className:"text-center mb-4",children:x.jsxs("p",{className:"text-white",children:["You have: ",x.jsx("span",{className:"font-bold text-yellow-400",children:s})," shiny gems"]})}),x.jsxs("div",{className:"space-y-3",children:[[1,5,10].map(e=>x.jsxs("button",{onClick:()=>m(e),disabled:s<e,className:"w-full py-2 rounded-lg font-semibold transition-all text-sm "+(s>=e?"bg-yellow-600 text-white hover:bg-yellow-500":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:["Exchange ",e," Shiny → ",10*e," Gems"]},e)),s>0&&x.jsxs("button",{onClick:()=>m(s),className:"w-full py-2 bg-gradient-to-r from-yellow-600 to-orange-600 text-white font-bold rounded-lg hover:from-yellow-500 hover:to-orange-500 transition-all text-sm",children:["Exchange All (",s," → ",10*s," Gems)"]})]})]})}),x.jsx("div",{className:"mt-4 text-center",children:x.jsx("p",{className:"text-yellow-300 text-xs",children:"✨ Shiny gems are rare and valuable! Use them wisely."})})]})})]})},J=()=>{const e=[{Icon:A,color:"text-yellow-400",delay:"0s",position:{top:"10%",left:"5%"}},{Icon:P,color:"text-purple-400",delay:"1s",position:{top:"20%",right:"10%"}},{Icon:N,color:"text-orange-400",delay:"2s",position:{top:"60%",left:"8%"}},{Icon:M,color:"text-blue-400",delay:"3s",position:{bottom:"15%",right:"5%"}},{Icon:S,color:"text-red-400",delay:"4s",position:{top:"40%",left:"15%"}},{Icon:E,color:"text-indigo-400",delay:"5s",position:{top:"70%",right:"15%"}},{Icon:L,color:"text-green-400",delay:"6s",position:{bottom:"40%",left:"3%"}},{Icon:z,color:"text-amber-400",delay:"7s",position:{top:"80%",right:"8%"}}];return x.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:[e.map(({Icon:e,color:t,delay:s,position:a},r)=>x.jsx("div",{className:`absolute ${t} opacity-10`,style:c(l({},a),{animation:"float 6s ease-in-out infinite",animationDelay:s}),children:x.jsx(e,{className:"w-8 h-8 sm:w-12 sm:h-12"})},r)),x.jsx("div",{className:"absolute text-slate-400 opacity-5",style:{top:"30%",right:"20%",animation:"float 8s ease-in-out infinite",animationDelay:"2s"},children:x.jsx("span",{className:"text-6xl",children:"♞"})}),x.jsx("style",{jsx:!0,children:"\n        @keyframes float {\n          0%, 100% {\n            transform: translateY(0px) rotate(0deg);\n          }\n          25% {\n            transform: translateY(-20px) rotate(5deg);\n          }\n          50% {\n            transform: translateY(-10px) rotate(-5deg);\n          }\n          75% {\n            transform: translateY(-15px) rotate(3deg);\n          }\n        }\n      "})]})},X=()=>{const[e,t]=j.useState(null),[s,a]=j.useState(!1),[r,n]=j.useState(!1);j.useEffect(()=>{const e=window.matchMedia("(display-mode: standalone)").matches,s=!0===window.navigator.standalone;n(e||s);const r=e=>{e.preventDefault(),t(e),a(!0)},i=()=>{n(!0),a(!1),t(null)};return window.addEventListener("beforeinstallprompt",r),window.addEventListener("appinstalled",i),()=>{window.removeEventListener("beforeinstallprompt",r),window.removeEventListener("appinstalled",i)}},[]);const i=()=>{a(!1)};return!r&&s&&e?x.jsxs("div",{className:"fixed bottom-4 left-4 right-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-4 rounded-lg shadow-lg z-50 max-w-sm mx-auto",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(D,{className:"w-6 h-6 text-yellow-400"}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-sm",children:"Install Hugoland"}),x.jsx("p",{className:"text-xs opacity-90",children:"Play offline & get the full experience!"})]})]}),x.jsx("button",{onClick:i,className:"text-white/70 hover:text-white transition-colors",children:x.jsx(G,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"flex gap-2 mt-3",children:[x.jsx("button",{onClick:()=>d(null,null,function*(){if(!e)return;e.prompt();const{outcome:s}=yield e.userChoice;t(null),a(!1)}),className:"flex-1 bg-white/20 hover:bg-white/30 text-white font-semibold py-2 px-4 rounded transition-colors text-sm",children:"Install App"}),x.jsx("button",{onClick:i,className:"px-4 py-2 text-white/70 hover:text-white transition-colors text-sm",children:"Later"})]})]}):null};j.lazy(()=>V(()=>import("./utility-components-CTiIPd5A.js").then(e=>e.a),__vite__mapDeps([0,1,2,3])).then(e=>({default:e.Statistics}))),j.lazy(()=>V(()=>import("./utility-components-CTiIPd5A.js").then(e=>e.b),__vite__mapDeps([0,1,2,3])).then(e=>({default:e.Achievements})));const ee=j.lazy(()=>V(()=>import("./utility-components-CTiIPd5A.js").then(e=>e.C),__vite__mapDeps([0,1,2,3])).then(e=>({default:e.CollectionBook}))),te=j.lazy(()=>V(()=>import("./EnhancedGameModes-HRnru6sN.js"),__vite__mapDeps([4,1,2,3])).then(e=>({default:e.EnhancedGameModes}))),se=j.lazy(()=>V(()=>import("./PokyegMarket-C8WOZ4bT.js"),__vite__mapDeps([5,1,2,3])).then(e=>({default:e.PokyegMarket}))),ae=j.lazy(()=>V(()=>import("./Tutorial-Bmn8C9uv.js"),__vite__mapDeps([6,1,2,3])).then(e=>({default:e.Tutorial}))),re=j.lazy(()=>V(()=>import("./CheatPanel-Cn1E2tqo.js"),__vite__mapDeps([7,1,2,3])).then(e=>({default:e.CheatPanel}))),ne=j.lazy(()=>V(()=>import("./DailyRewards-D5d3-Q1_.js"),__vite__mapDeps([8,1,2,3])).then(e=>({default:e.DailyRewards}))),ie=j.lazy(()=>V(()=>import("./OfflineProgress-DYcLCQV1.js"),__vite__mapDeps([9,1,2,3])).then(e=>({default:e.OfflineProgress}))),oe=j.lazy(()=>V(()=>import("./BulkActions-DKC0N9f6.js"),__vite__mapDeps([10,1,2,3])).then(e=>({default:e.BulkActions}))),le=j.lazy(()=>V(()=>import("./menu-components-BVCwzjsy.js").then(e=>e.H),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.HamburgerMenuPage})));j.lazy(()=>V(()=>import("./menu-components-BVCwzjsy.js").then(e=>e.G),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.GardenOfGrowth}))),j.lazy(()=>V(()=>import("./menu-components-BVCwzjsy.js").then(e=>e.a),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.GameSettings}))),j.lazy(()=>V(()=>import("./menu-components-BVCwzjsy.js").then(e=>e.D),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.DevTools}))),j.lazy(()=>V(()=>import("./menu-components-BVCwzjsy.js").then(e=>e.S),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.Skills}))),j.lazy(()=>V(()=>import("./menu-components-BVCwzjsy.js").then(e=>e.Y),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.YojefMarket}))),j.lazy(()=>V(()=>import("./menu-components-BVCwzjsy.js").then(e=>e.P),__vite__mapDeps([11,1,2,3,0])).then(e=>({default:e.ProgressionPanel})));const ce=j.lazy(()=>V(()=>import("./AdventureSkillSelection-DYLtiS3D.js"),__vite__mapDeps([12,1,2,3])).then(e=>({default:e.AdventureSkillSelection})));j.lazy(()=>V(()=>import("./game-components-6YX8WGwj.js").then(e=>e.i),__vite__mapDeps([1,2,3])).then(e=>({default:e.AuctionHouse})));const de=()=>x.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin inline-block w-12 h-12 border-4 border-purple-400 border-t-transparent rounded-full mb-4"}),x.jsx("p",{className:"text-white text-lg font-semibold",children:"Loading..."})]})});function me(){var e;const{gameState:t,isLoading:s,equipWeapon:a,equipArmor:r,upgradeWeapon:n,upgradeArmor:i,sellWeapon:o,sellArmor:l,upgradeResearch:c,openChest:d,purchaseMythical:m,startCombat:h,attack:p,resetGame:u,setGameMode:g,toggleCheat:y,generateCheatItem:_,mineGem:S,exchangeShinyGems:N,discardItem:C,purchaseRelic:A,upgradeRelic:P,equipRelic:R,unequipRelic:G,sellRelic:D,claimDailyReward:F,upgradeSkill:V,prestige:q,claimOfflineRewards:Z,bulkSell:me,bulkUpgrade:he,plantSeed:pe,buyWater:ue,updateSettings:ge,addCoins:xe,addGems:ye,teleportToZone:be,setExperience:ve,rollSkill:fe,selectAdventureSkill:we,skipAdventureSkills:ke,useSkipCard:je,listItem:_e,placeBid:Se,claimWonItem:Ne}=$(),[Me,Ce]=j.useState("stats"),[Ae,Pe]=j.useState(null),[Re,Ee]=j.useState(!0);if(s)return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin inline-block w-12 h-12 border-4 border-purple-400 border-t-transparent rounded-full mb-6"}),x.jsx("p",{className:"text-white text-xl font-semibold",children:"Loading Hugoland..."}),x.jsx("p",{className:"text-purple-300 text-sm mt-2",children:"Preparing your adventure..."})]})});if((null==(e=null==t?void 0:t.adventureSkills)?void 0:e.showSelectionModal)&&t.adventureSkills.availableSkills.length>0&&!t.inCombat)return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[x.jsx(J,{}),x.jsx(b,{beautyMode:t.settings.beautyMode,children:x.jsx(j.Suspense,{fallback:x.jsx(de,{}),children:x.jsx(ce,{availableSkills:t.adventureSkills.availableSkills,onSelectSkill:we,onSkipSkills:ke})})})]});if(t.inCombat||(t.offlineProgress.offlineCoins>0||t.offlineProgress.offlineGems>0?"offlineProgress"!==Ae&&Pe("offlineProgress"):t.dailyRewards.availableReward&&"dailyRewards"!==Ae&&Pe("dailyRewards")),Re&&1===t.zone&&500===t.coins)return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[x.jsx(J,{}),x.jsx(b,{beautyMode:t.settings.beautyMode,children:x.jsxs("div",{className:"text-center max-w-lg mx-auto relative z-10",children:[x.jsxs("div",{className:"mb-8",children:[x.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold text-white mb-6 leading-tight",children:["🏰 Welcome to",x.jsx("br",{}),"Hugoland! 🗡️"]}),x.jsx("p",{className:"text-purple-300 text-lg sm:text-xl mb-8 leading-relaxed",children:"The ultimate fantasy adventure game where knowledge is your greatest weapon!"}),x.jsxs("div",{className:"bg-black/40 backdrop-blur-sm p-6 rounded-xl border border-purple-500/30 mb-8 "+(t.settings.beautyMode?"shadow-2xl border-2 border-purple-400/50":""),children:[x.jsx("h3",{className:"text-white font-bold mb-4 text-lg",children:"🎮 What awaits you:"}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm text-purple-200",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-green-400",children:"•"}),x.jsx("span",{children:"Answer trivia questions to defeat enemies"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-blue-400",children:"•"}),x.jsx("span",{children:"Collect powerful weapons and armor"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-purple-400",children:"•"}),x.jsx("span",{children:"Mine gems and find rare treasures"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-yellow-400",children:"•"}),x.jsx("span",{children:"Unlock achievements and streaks"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-red-400",children:"•"}),x.jsx("span",{children:"Explore multiple game modes"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-cyan-400",children:"•"}),x.jsx("span",{children:"Progress through infinite zones"})]})]})]})]}),x.jsxs(v,{onClick:()=>Ee(!1),variant:"primary",size:"lg",beautyMode:t.settings.beautyMode,className:"w-full sm:w-auto flex items-center gap-3 justify-center",children:[x.jsx(O,{className:"w-6 h-6"}),"Start Your Adventure"]}),x.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Begin your journey in the magical world of Hugoland"})]})})]});const Ge=()=>{Pe("resetConfirm")},Le=()=>{u(),Pe(null)};return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative",children:[x.jsx(J,{}),x.jsx(X,{}),x.jsx(b,{beautyMode:t.settings.beautyMode,children:x.jsx("div",{className:"bg-gradient-to-r from-purple-800 via-violet-800 to-purple-800 shadow-2xl relative z-10 border-b border-purple-500/30 "+(t.settings.beautyMode?"shadow-purple-500/30":""),children:x.jsxs("div",{className:"container mx-auto px-4 py-4 sm:py-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white",children:"🏰 Hugoland 🗡️"}),t.isPremium&&x.jsx(B,{className:"w-6 h-6 sm:w-7 sm:h-7 lg:w-8 lg:h-8 text-yellow-400 animate-pulse"})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[!t.inCombat&&"menu"!==Me&&x.jsxs(v,{onClick:()=>Pe("bulkActions"),variant:"primary",size:"sm",beautyMode:t.settings.beautyMode,className:"flex items-center gap-2",children:[x.jsx(L,{className:"w-4 h-4"}),x.jsx("span",{className:"hidden sm:inline",children:"Bulk"})]}),x.jsxs(v,{onClick:()=>Ce("menu"),variant:"secondary",size:"sm",beautyMode:t.settings.beautyMode,className:"flex items-center gap-2",children:[x.jsx(H,{className:"w-4 h-4"}),x.jsx("span",{className:"hidden sm:inline",children:"Menu"})]})]})]}),!t.inCombat&&"menu"!==Me&&x.jsx("div",{className:"flex justify-center items-center gap-4 mb-4 text-sm",children:t.dailyRewards.availableReward&&x.jsxs(v,{onClick:()=>Pe("dailyRewards"),variant:"success",size:"sm",beautyMode:t.settings.beautyMode,className:"flex items-center gap-2 animate-pulse",children:[x.jsx(T,{className:"w-4 h-4"}),x.jsx("span",{className:"hidden sm:inline",children:"Daily Reward!"})]})}),"menu"!==Me&&x.jsx("nav",{className:"flex justify-center",children:x.jsx("div",{className:"flex space-x-2 bg-black/20 p-2 rounded-xl backdrop-blur-sm border border-white/10 "+(t.settings.beautyMode?"shadow-lg":""),children:[{id:"stats",label:"Hero",icon:I},{id:"research",label:"Research",icon:E},{id:"shop",label:"Shop",icon:L},{id:"inventory",label:"Inventory",icon:M},{id:"mining",label:"Mining",icon:z}].map(({id:e,label:s,icon:a})=>x.jsxs(v,{onClick:()=>Ce(e),disabled:t.inCombat,variant:Me===e?"primary":"secondary",size:"sm",beautyMode:t.settings.beautyMode,className:"flex items-center gap-2 whitespace-nowrap",children:[x.jsx(a,{className:"w-4 h-4"}),x.jsx("span",{className:"hidden sm:inline",children:s})]},e))})}),"menu"===Me&&x.jsx("div",{className:"flex justify-center",children:x.jsxs(v,{onClick:()=>Ce("stats"),variant:"primary",beautyMode:t.settings.beautyMode,className:"flex items-center gap-2",children:[x.jsx(U,{className:"w-4 h-4"}),"Back to Game"]})})]})})}),x.jsx("div",{className:"container mx-auto px-4 py-6 sm:py-8 relative z-10",children:x.jsx("div",{className:"max-w-6xl mx-auto",children:(()=>{if(t.inCombat&&t.currentEnemy)return x.jsx(f,{enemy:t.currentEnemy,playerStats:t.playerStats,onAttack:p,combatLog:t.combatLog,gameMode:t.gameMode,knowledgeStreak:t.knowledgeStreak,hasUsedRevival:t.hasUsedRevival,adventureSkills:t.adventureSkills,onUseSkipCard:je});switch(Me){case"menu":return x.jsx(j.Suspense,{fallback:x.jsx(de,{}),children:x.jsx(le,{gameState:t,onPlantSeed:pe,onBuyWater:ue,onUpgradeSkill:V,onPrestige:q,onUpdateSettings:ge,onAddCoins:xe,onAddGems:ye,onTeleportToZone:be,onSetExperience:ve,onRollSkill:fe,onPurchaseRelic:A,onListItem:_e,onPlaceBid:Se,onClaimWonItem:Ne,onBack:()=>Ce("stats")})});case"stats":return x.jsx(b,{beautyMode:t.settings.beautyMode,children:x.jsxs("div",{className:"space-y-6",children:[x.jsx(Y,{playerStats:t.playerStats,zone:t.zone,coins:t.coins,gems:t.gems,shinyGems:t.shinyGems,playerTags:t.playerTags,progression:t.progression}),t.gardenOfGrowth.isPlanted&&x.jsxs("div",{className:"bg-gradient-to-r from-green-900/50 to-emerald-900/50 p-4 sm:p-6 rounded-xl border border-green-500/50 backdrop-blur-sm "+(t.settings.beautyMode?"shadow-xl":""),children:[x.jsx("div",{className:"flex items-center justify-between mb-4",children:x.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[x.jsx("span",{className:"text-2xl",children:"🌱"}),"Garden of Growth"]})}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"text-center bg-black/20 p-3 rounded-lg",children:[x.jsx("p",{className:"text-green-300 font-semibold text-sm",children:"Growth"}),x.jsxs("p",{className:"text-white text-xl font-bold",children:[t.gardenOfGrowth.growthCm.toFixed(1),"cm"]})]}),x.jsxs("div",{className:"text-center bg-black/20 p-3 rounded-lg",children:[x.jsx("p",{className:"text-blue-300 font-semibold text-sm",children:"Stat Bonus"}),x.jsxs("p",{className:"text-white text-xl font-bold",children:["+",t.gardenOfGrowth.totalGrowthBonus.toFixed(1),"%"]})]}),x.jsxs("div",{className:"text-center bg-black/20 p-3 rounded-lg",children:[x.jsx("p",{className:"text-cyan-300 font-semibold text-sm",children:"Water Left"}),x.jsxs("p",{className:"text-white text-xl font-bold",children:[t.gardenOfGrowth.waterHoursRemaining.toFixed(1),"h"]})]})]}),x.jsxs("div",{className:"mt-4",children:[x.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:x.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-3 rounded-full transition-all duration-500",style:{width:`${Math.min(t.gardenOfGrowth.growthCm/t.gardenOfGrowth.maxGrowthCm*100,100)}%`}})}),x.jsxs("p",{className:"text-center text-gray-300 text-sm mt-2",children:["Progress to maximum growth (",t.gardenOfGrowth.maxGrowthCm,"cm)"]})]})]}),t.knowledgeStreak.current>0&&x.jsx("div",{className:"bg-gradient-to-r from-yellow-900/50 to-orange-900/50 p-4 sm:p-6 rounded-xl border border-yellow-500/50 backdrop-blur-sm "+(t.settings.beautyMode?"shadow-xl":""),children:x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[x.jsx("span",{className:"text-3xl animate-pulse",children:"🔥"}),x.jsx("h3",{className:"text-yellow-400 font-bold text-xl",children:"Knowledge Streak!"})]}),x.jsxs("p",{className:"text-white text-lg mb-2",children:[t.knowledgeStreak.current," correct answers in a row"]}),x.jsxs("p",{className:"text-yellow-300 font-semibold",children:["+",Math.round(100*(t.knowledgeStreak.multiplier-1)),"% reward bonus"]})]})}),x.jsxs("div",{className:"text-center space-y-6",children:[x.jsxs(v,{onClick:h,disabled:t.playerStats.hp<=0||"survival"===t.gameMode.current&&t.gameMode.survivalLives<=0,variant:t.playerStats.hp>0&&("survival"!==t.gameMode.current||t.gameMode.survivalLives>0)?"success":"secondary",size:"lg",beautyMode:t.settings.beautyMode,className:"w-full sm:w-auto flex items-center gap-3 justify-center",children:[x.jsx(O,{className:"w-6 h-6"}),t.playerStats.hp<=0?"You are defeated!":"survival"===t.gameMode.current&&t.gameMode.survivalLives<=0?"No lives remaining!":"Start Adventure"]}),(t.playerStats.hp<=0||"survival"===t.gameMode.current&&t.gameMode.survivalLives<=0)&&x.jsx("div",{className:"bg-red-900/30 p-4 rounded-lg border border-red-500/50",children:x.jsx("p",{className:"text-red-400 text-sm",children:"survival"===t.gameMode.current&&t.gameMode.survivalLives<=0?"Change game mode or reset to continue!":"Visit the shop to get better equipment and try again!"})}),t.isPremium&&x.jsxs("div",{className:"bg-gradient-to-r from-yellow-600/20 to-yellow-500/20 p-4 rounded-xl border border-yellow-500/50 backdrop-blur-sm "+(t.settings.beautyMode?"shadow-xl":""),children:[x.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[x.jsx(B,{className:"w-6 h-6 text-yellow-400"}),x.jsx("span",{className:"text-white font-bold text-lg",children:"🎉 PREMIUM MEMBER! 🎉"})]}),x.jsx("p",{className:"text-yellow-100 text-sm",children:"You've reached Zone 50! Enjoy exclusive rewards and special features!"})]}),x.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[x.jsxs(v,{onClick:()=>Pe("gameMode"),variant:"primary",size:"sm",beautyMode:t.settings.beautyMode,className:"flex items-center gap-2",children:[x.jsx(O,{className:"w-4 h-4"}),x.jsx("span",{className:"hidden sm:inline",children:"Game Mode"})]}),x.jsxs(v,{onClick:()=>Pe("dailyRewards"),variant:"success",size:"sm",beautyMode:t.settings.beautyMode,className:"flex items-center gap-2",children:[x.jsx(T,{className:"w-4 h-4"}),x.jsx("span",{className:"hidden sm:inline",children:"Daily Rewards"})]}),x.jsxs(v,{onClick:Ge,variant:"danger",size:"sm",beautyMode:t.settings.beautyMode,className:"flex items-center gap-2",children:[x.jsx(W,{className:"w-4 h-4"}),x.jsx("span",{className:"hidden sm:inline",children:"Reset Game"})]})]})]})]})});case"shop":return x.jsx(k,{coins:t.coins,onOpenChest:d,onDiscardItem:C,isPremium:t.isPremium});case"inventory":return x.jsx(w,{inventory:t.inventory,gems:t.gems,coins:t.coins,auctionHouse:t.auctionHouse,onEquipWeapon:a,onEquipArmor:r,onUpgradeWeapon:n,onUpgradeArmor:i,onSellWeapon:o,onSellArmor:l,onUpgradeRelic:P,onEquipRelic:R,onUnequipRelic:G,onSellRelic:D,onListItem:_e,onPlaceBid:Se,onClaimWonItem:Ne,beautyMode:t.settings.beautyMode});case"research":return x.jsx(K,{research:t.research,coins:t.coins,onUpgradeResearch:c,isPremium:t.isPremium});case"mining":return x.jsx(Q,{mining:t.mining,gems:t.gems,shinyGems:t.shinyGems,onMineGem:S,onExchangeShinyGems:N});default:return null}})()})}),(()=>{if(t.inCombat&&"resetConfirm"!==Ae)return null;switch(Ae){case"collection":return x.jsx(j.Suspense,{fallback:x.jsx(de,{}),children:x.jsx(ee,{collectionBook:t.collectionBook,allWeapons:t.inventory.weapons,allArmor:t.inventory.armor,onClose:()=>Pe(null)})});case"gameMode":return x.jsx(j.Suspense,{fallback:x.jsx(de,{}),children:x.jsx(te,{currentMode:t.gameMode,onSelectMode:g,onClose:()=>Pe(null)})});case"pokyegMarket":return x.jsx(j.Suspense,{fallback:x.jsx(de,{}),children:x.jsx(se,{coins:t.coins,onPurchaseMythical:m,onClose:()=>Pe(null)})});case"tutorial":return x.jsx(j.Suspense,{fallback:x.jsx(de,{}),children:x.jsx(ae,{onClose:()=>Pe(null)})});case"cheats":return x.jsx(j.Suspense,{fallback:x.jsx(de,{}),children:x.jsx(re,{cheats:t.cheats,onToggleCheat:y,onGenerateItem:_,onClose:()=>Pe(null)})});case"dailyRewards":return x.jsx(j.Suspense,{fallback:x.jsx(de,{}),children:x.jsx(ne,{dailyRewards:t.dailyRewards,onClaimReward:F,onClose:()=>Pe(null)})});case"offlineProgress":return x.jsx(j.Suspense,{fallback:x.jsx(de,{}),children:x.jsx(ie,{offlineProgress:t.offlineProgress,onClaimOfflineRewards:Z,onClose:()=>Pe(null)})});case"bulkActions":return x.jsx(j.Suspense,{fallback:x.jsx(de,{}),children:x.jsx(oe,{weapons:t.inventory.weapons,armor:t.inventory.armor,gems:t.gems,onBulkSell:me,onBulkUpgrade:he,onClose:()=>Pe(null)})});case"resetConfirm":return x.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:x.jsx(b,{beautyMode:t.settings.beautyMode,children:x.jsx("div",{className:"bg-gradient-to-br from-red-900 to-gray-900 p-6 rounded-xl border border-red-500/50 max-w-md w-full backdrop-blur-sm "+(t.settings.beautyMode?"shadow-2xl border-2 border-red-400/50":""),children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:x.jsx(W,{className:"w-8 h-8 text-white"})}),x.jsx("h2",{className:"text-white font-bold text-xl mb-4",children:"Reset Game?"}),x.jsx("p",{className:"text-gray-300 text-sm mb-6",children:"Are you sure you want to reset your game? This will permanently delete all your progress."}),x.jsxs("div",{className:"bg-black/30 p-3 rounded-lg mb-6 text-left",children:[x.jsx("p",{className:"text-red-400 font-bold text-sm mb-2",children:"This action cannot be undone!"}),x.jsxs("ul",{className:"text-red-300 text-xs space-y-1",children:[x.jsx("li",{children:"• All coins, gems, and items will be lost"}),x.jsx("li",{children:"• Zone progress and achievements will be reset"}),x.jsx("li",{children:"• Research levels and statistics will be cleared"}),x.jsx("li",{children:"• Character level and skills will be reset"})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx(v,{onClick:()=>Pe(null),variant:"secondary",beautyMode:t.settings.beautyMode,className:"flex-1",children:"Cancel"}),x.jsx(v,{onClick:Le,variant:"danger",beautyMode:t.settings.beautyMode,className:"flex-1",children:"Reset Game"})]})]})})})});default:return null}})()]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js",{scope:"/"}).then(e=>{e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&confirm("New version available! Reload to update?")&&window.location.reload()})})}).catch(e=>{})}),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault()}),window.addEventListener("appinstalled",()=>{}),a.createRoot(document.getElementById("root")).render(x.jsx(j.StrictMode,{children:x.jsx(me,{})}))}},function(){return Z||(0,q[a(q)[0]])((Z={exports:{}}).exports,Z),Z.exports});export default $();
